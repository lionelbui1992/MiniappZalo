var B=(n,o,c)=>new Promise((u,s)=>{var E=a=>{try{g(c.next(a))}catch(p){s(p)}},h=a=>{try{g(c.throw(a))}catch(p){s(p)}},g=a=>a.done?u(a.value):Promise.resolve(a.value).then(E,h);g((c=c.apply(n,o)).next())});import{a as z,g as k,c as A,S as q,I as H,b as w,_ as M,d as $,e as L,p as Q,s as U,o as G,f as J,u as K,h as X,B as Y}from"./index.394ede27.module.js";import{x as Z,R as e,I as ee,B as m,b as te,f as y,d as I,r as b,P as ae,T as C,S as _,h as se,a as ne}from"./vendor.1c49cccd.module.js";const re=(n,o)=>new Promise((c,u)=>{Z.createOrder({desc:o!=null?o:`Thanh to\xE1n cho ${z.app.title}`,item:[],amount:n+Number(k(s=>s.template.shippingFee)),success:s=>{console.log("success: ",s),c(s)},fail:s=>{console.log("err: ",s),u(s)}})}),le=[{name:"detail",label:"S\u1ED1 nh\xE0, t\xEAn \u0111\u01B0\u1EDDng",type:"text",placeholder:"Nh\u1EADp s\u1ED1 nh\xE0, t\xEAn \u0111\u01B0\u1EDDng",errorMessage:"H\xE3y nh\u1EADp \u0111\u1ECBa ch\u1EC9 c\u1EE5 th\u1EC3 c\u1EE7a b\u1EA1n",isValidate:!0},{name:"city",label:"T\u1EC9nh, th\xE0nh ph\u1ED1",type:"select",placeholder:"Ch\u1ECDn t\u1EC9nh, th\xE0nh ph\u1ED1...",isValidate:!1},{name:"district",label:"Qu\u1EADn (huy\u1EC7n)",type:"select",placeholder:"Ch\u1ECDn qu\u1EADn, huy\u1EC7n...",isValidate:!1},{name:"ward",label:"Ph\u01B0\u1EDDng (x\xE3)",type:"select",placeholder:"Ch\u1ECDn ph\u01B0\u1EDDng, x\xE3...",isValidate:!1}],ce=({store:n,type:o="standard",handleOnClick:c=()=>{},hasRightSide:u=!0,hasBorderBottom:s=!0,customRightSide:E,className:h})=>e.createElement("div",{key:n.id,className:A("flex flex-row items-center justify-between w-full",s&&" border-b",h&&h),onClick:c,role:"button"},e.createElement("div",{className:"flex flex-row items-center"},e.createElement("div",{className:"w-auto flex-none"},e.createElement("img",{src:n.logoStore,alt:"product",className:" w-9 h-9 object-cover rounded-full bg-white"})),e.createElement("div",{className:" p-3 pr-0"},e.createElement("div",{className:"line-clamp-2 text-sm font-medium break-words"},n.nameStore),o==="standard"&&e.createElement("span",{className:" pt-1 font-semibold text-sm text-gray-500"},q[n.type]))),u&&(E||e.createElement(ee,{size:20,icon:"zi-chevron-right",className:" text-zinc-500"}))),oe=({id:n,pathImg:o,nameProduct:c,salePrice:u,quantity:s,handleOnClick:E})=>e.createElement("div",{className:"w-full flex flex-row items-center justify-between gap-1 border border-[#E4E8EC] rounded-lg overflow-hidden h-24 p-2 mt-2 bg-white",onClick:()=>E(n),role:"button"},e.createElement("div",{className:"flex flex-row items-center gap-1"},e.createElement("div",{className:"flex-none w-20 rounded-lg overflow-hidden"},e.createElement(H,{src:o,alt:"image product",ratio:1})),e.createElement(m,{p:0,m:0,className:" flex-none relative w-5 h-5 rounded-full bg-slate-100"},e.createElement("div",{className:" absolute top-1/2 -translate-y-1/2 w-full text-center text-xs text-blue-700 "},s)),e.createElement(m,{m:0,className:"flex-none text-slate-500"},"x"),e.createElement("div",null,e.createElement("div",{className:"line-clamp-2 text-sm break-words"},c))),e.createElement("span",{className:" pt-1 font-semibold text-sm"},e.createElement("span",{className:" font-normal text-xs"},"\u0111"),w(u))),{Option:ie}=_,ue=te({key:"locationVn",get:()=>M(()=>import("./location.16c1c74a.module.js"),[]).then(n=>n.default)}),xe=()=>{const n=y($),o=y(L),c=y(Q),u=y(U),s=Number(k(t=>t.template.shippingFee)),E=I(G),h=I(J),g=K(),a=y(ue),[p,O]=b.exports.useState(a[0]),[R,N]=b.exports.useState(a[0].districts[0]),[de,v]=b.exports.useState(a[0].districts[0].wards[0]),[j,S]=b.exports.useState(a[0].districts[0].id),[T,D]=b.exports.useState(a[0].districts[0].wards[0].id),V=t=>B(void 0,null,function*(){t.preventDefault(),yield re(100)}),F=t=>{E(!0),h({productId:t,isUpdate:!0})},W=t=>{let r=a,i,x;switch(t.name){case"city":r=a,i=p.id,x=l=>{const f=Number(l)-1>-1?Number(l)-1:0,d=a[f].districts[0],P=d.wards[0];O(a[f]),N(d),S(d.id),v(P),D(P.id)};break;case"district":r=p.districts,i=j,x=l=>{const f=p.districts.find(d=>d.id===l);if(f){const d=f.wards[0];N(f),S(l),v(d),D(d.id)}};break;case"ward":r=R.wards,i=T,x=l=>D(l);break;default:r=a,i=void 0,x=()=>{};break}return{listOptions:r,value:i,handleOnSelect:x}};return b.exports.useEffect(()=>{g({title:"\u0110\u01A1n \u0111\u1EB7t h\xE0ng",type:"secondary"}),X("secondary")},[]),e.createElement(ae,null,n&&e.createElement("div",{className:" mb-[80px]"},e.createElement(m,{m:0,p:4,className:" bg-white"},e.createElement(ce,{store:u,hasRightSide:!1,hasBorderBottom:!1,type:"order"})),e.createElement(m,{mx:3,mb:2},n.listOrder.map(t=>{const r=c.find(i=>i.id===t.id);return e.createElement(oe,{pathImg:r.imgProduct,nameProduct:r.nameProduct,salePrice:r.salePrice,quantity:t.order.quantity,key:r.id,id:t.id,handleOnClick:i=>F(i)})})),e.createElement(m,{m:4,flex:!0,flexDirection:"row",justifyContent:"space-between"},e.createElement("span",{className:" text-base font-medium"},"\u0110\u01A1n h\xE0ng"),e.createElement("span",{className:" text-base font-medium text-primary"},w(o),"\u0111")),e.createElement(m,{m:0,px:4,className:" bg-white"},e.createElement(C,{size:"large",bold:!0,className:" border-b py-3 mb-0"},"\u0110\u1ECBa ch\u1EC9 giao h\xE0ng"),le.map(t=>{const{listOptions:r,value:i,handleOnSelect:x}=W(t);return e.createElement("div",{key:t.name,className:A("py-3",t.name!=="ward"&&"border-b")},e.createElement(C,{size:"large",bold:!0,className:"after:content-['_*'] after:text-primary after:align-middle"},t.label),e.createElement(m,{className:"relative",m:0},t.type==="select"?e.createElement(_,{id:t.name,placeholder:t.placeholder,name:t.name,value:i,onChange:l=>{x(l)}},r==null?void 0:r.map(l=>e.createElement(ie,{key:l.id,value:l.id,title:l.name}))):e.createElement(se,{placeholder:"Nh\u1EADp s\u1ED1 nh\xE0, t\xEAn \u0111\u01B0\u1EDDng",clearable:!0})),e.createElement(Y,{zIndex:99},e.createElement(ne,{htmlType:"submit",fullWidth:!0,className:" bg-primary text-white rounded-lg h-12",onClick:V},"\u0110\u1EB7t h\xE0ng")))})),s>0&&e.createElement(m,{m:4,flex:!0,flexDirection:"row",justifyContent:"space-between"},e.createElement("span",{className:" text-base font-medium"},"Ph\xED ship"),e.createElement("span",{className:" text-base font-medium text-primary"},w(s),"\u0111")),e.createElement(C,{className:"p-4 text-center"},`\u0110\u1EB7t h\xE0ng \u0111\u1ED3ng ngh\u0129a v\u1EDBi vi\u1EC7c b\u1EA1n \u0111\u1ED3ng \xFD quan t\xE2m 
              ${u.nameStore} 
              \u0111\u1EC3 nh\u1EADn tin t\u1EE9c m\u1EDBi`)))};export{xe as default};
